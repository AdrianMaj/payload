---
title: Server Functions
label: Server Functions
order: 100
desc: Execute custom server-side logic from client-side code using Server Functions in Payload.
keywords: server functions, server-side functions, server-side logic, server-side code, server-side, functions, Payload, headless, Content Management System, cms, javascript, react, node, nextjs
---

The Payload [Admin Panel] fully supports [React Server Functions](https://react.dev/reference/rsc/server-actions) (formerly known as Server Actions). These are functions that are defined on the server, using server-only modules, and executed from client.

## Admin Options

To add a new Server Function, use the `admin.serverFunctions` property in your Payload config:

```ts
import { buildConfig } from 'payload'

const config = buildConfig({
  // ...
  admin: {
    // highlight-start
    serverFunctions: [
      {
        name: 'my-server-action',
        fn: ({ req, value }) => `The value is: "${value}"`
      }
    ]
    // highlight-end
  }
})
```

The following options are available:

| Option | Type | Description |
| --- | --- | --- |
| **name** | `string` | The name of the Server Function. |
| **fn** | `Function` | The function to execute. [More details](#function-arguments) |

### Function Arguments

The function receives an object with the following properties:

| Property | Type | Description |
| --- | --- | --- |
| **req** | `PayloadRequest` | The request object, containing `payload`, `user`, and `config` properties. |
| **importMap** | `Record<string, any>` | The import map object. |

## Client-side Usage

To execute a Server Function from the client, use the `useServerFunctions` hook:

```tsx
'use client'
import React from 'react'
import { useServerFunctions } from '@payloadcms/ui'

const MyComponent = () => {
  const { serverFunctions } = useServerFunctions()
  const [result, setResult] = React.useState<string | null>(null)

  useEffect(() => {
    const doSomething = async () => {
      const result = await serverFunctions({
        name: 'my-server-action',
        args: {
          value: 'Hello, world!'
        }
      }) as string

      setResult(result)
    }

    void doSomething()
  }, [])

  return <p>{result}</p>
}
```

## How it works

In order for Payload to support dynamic Sever Functions, a single handler is placed at the root of the application:

```ts
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import type { ClientServerFunction } from 'payload'

import config from '@payload-config'
import { RootLayout } from '@payloadcms/next/layouts'
import { handleServerFunctions } from '@payloadcms/next/utilities' // highlight-line
import React from 'react'

import { importMap } from './admin/importMap.js'

import './custom.scss'

type Args = {
  children: React.ReactNode
}

// highlight-start
const serverFunctions: ClientServerFunction = async function (args) {
  'use server'
  return handleServerFunctions({
    ...args,
    config,
    importMap,
  })
}
// highlight-end

const Layout = ({ children }: Args) => (
  <RootLayout
    config={config}
    importMap={importMap}
    serverFunctions={serverFunctions} // highlight-line
  >
    {children}
  </RootLayout>
)

export default Layout

```
